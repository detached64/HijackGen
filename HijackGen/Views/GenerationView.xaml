<Window x:Class="HijackGen.Views.GenerationView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:cv="clr-namespace:HijackGen.Converters"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:enum="clr-namespace:HijackGen.Enums"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:s="clr-namespace:HijackGen.Strings"
        xmlns:vm="clr-namespace:HijackGen.ViewModels"
        Title="{x:Static s:GuiStrings.Options}"
        Width="300"
        Height="450"
        MinWidth="300"
        d:DataContext="{d:DesignInstance Type=vm:GenerationViewModel}"
        Background="#FFF0F0F0"
        ResizeMode="NoResize"
        SizeToContent="Height"
        WindowStartupLocation="CenterOwner"
        mc:Ignorable="d">

    <Window.Resources>
        <cv:EnumToBoolConverter x:Key="EnumToBoolConverter" />
    </Window.Resources>

    <DockPanel Margin="15" LastChildFill="False">
        <GroupBox Margin="0,0,0,5"
                  Padding="5"
                  DockPanel.Dock="Top"
                  Header="{x:Static s:GuiStrings.SavePath}">
            <Grid DockPanel.Dock="Top">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <TextBox x:Name="TbPath"
                         Grid.Column="0"
                         Margin="0,0,5,0"
                         VerticalContentAlignment="Center"
                         DockPanel.Dock="Left"
                         Text="{Binding SaveDir}"
                         TextWrapping="Wrap" />
                <Button Grid.Column="1"
                        Width="{Binding ActualHeight, RelativeSource={RelativeSource Self}}"
                        VerticalAlignment="Center"
                        Command="{Binding BrowseFolderCommand}"
                        Content="â€¦"
                        DockPanel.Dock="Right" />
            </Grid>
        </GroupBox>
        <GroupBox Margin="0,5"
                  Padding="5"
                  DockPanel.Dock="Top"
                  Header="{x:Static s:GuiStrings.Architecture}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <RadioButton Grid.Column="0"
                             HorizontalAlignment="Center"
                             VerticalContentAlignment="Center"
                             Content="x86"
                             GroupName="GrpArchitecture"
                             IsChecked="{Binding SelectedArchitecture, Converter={StaticResource EnumToBoolConverter}, ConverterParameter={x:Static enum:PeArchitecture.x86}}" />
                <RadioButton Grid.Column="1"
                             HorizontalAlignment="Center"
                             VerticalContentAlignment="Center"
                             Content="x64"
                             GroupName="GrpArchitecture"
                             IsChecked="{Binding SelectedArchitecture, Converter={StaticResource EnumToBoolConverter}, ConverterParameter={x:Static enum:PeArchitecture.x64}}" />
            </Grid>
        </GroupBox>
        <GroupBox Margin="0,5"
                  Padding="5"
                  DockPanel.Dock="Top"
                  Header="{x:Static s:GuiStrings.DllType}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <RadioButton Grid.Column="0"
                             HorizontalAlignment="Center"
                             VerticalContentAlignment="Center"
                             Content="{x:Static s:GuiStrings.SystemDll}"
                             GroupName="GrpDllType"
                             IsChecked="{Binding SelectedType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter={x:Static enum:PeType.System}}" />
                <RadioButton Grid.Column="1"
                             HorizontalAlignment="Center"
                             VerticalContentAlignment="Center"
                             Content="{x:Static s:GuiStrings.CustomDll}"
                             GroupName="GrpDllType"
                             IsChecked="{Binding SelectedType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter={x:Static enum:PeType.Custom}}" />
            </Grid>
        </GroupBox>
        <GroupBox Margin="0,5"
                  DockPanel.Dock="Top"
                  Header="{x:Static s:GuiStrings.OutputFormat}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <RadioButton Margin="0,5"
                             HorizontalAlignment="Center"
                             VerticalContentAlignment="Center"
                             Content=".h"
                             GroupName="GrpFormat"
                             IsChecked="{Binding SelectedFormat, Converter={StaticResource EnumToBoolConverter}, ConverterParameter={x:Static enum:GenerationFormat.H}}" />
                <RadioButton Grid.Column="1"
                             Margin="0,5"
                             HorizontalAlignment="Center"
                             VerticalContentAlignment="Center"
                             Content=".def"
                             GroupName="GrpFormat"
                             IsChecked="{Binding SelectedFormat, Converter={StaticResource EnumToBoolConverter}, ConverterParameter={x:Static enum:GenerationFormat.Def}}" />
                <RadioButton Grid.Row="1"
                             Margin="0,5"
                             HorizontalAlignment="Center"
                             VerticalContentAlignment="Center"
                             Content=".c"
                             GroupName="GrpFormat"
                             IsChecked="{Binding SelectedFormat, Converter={StaticResource EnumToBoolConverter}, ConverterParameter={x:Static enum:GenerationFormat.C}}" />
                <RadioButton Grid.Row="1"
                             Grid.Column="1"
                             Margin="0,5"
                             HorizontalAlignment="Center"
                             VerticalContentAlignment="Center"
                             Content=".cpp"
                             GroupName="GrpFormat"
                             IsChecked="{Binding SelectedFormat, Converter={StaticResource EnumToBoolConverter}, ConverterParameter={x:Static enum:GenerationFormat.Cpp}}" />
                <RadioButton Grid.Row="2"
                             Grid.Column="1"
                             Margin="0,5"
                             HorizontalAlignment="Center"
                             VerticalContentAlignment="Center"
                             Content="Xmake"
                             GroupName="GrpFormat"
                             IsChecked="{Binding SelectedFormat, Converter={StaticResource EnumToBoolConverter}, ConverterParameter={x:Static enum:GenerationFormat.Xmake}}" />
                <RadioButton Grid.Row="2"
                             Margin="0,5"
                             HorizontalAlignment="Center"
                             VerticalContentAlignment="Center"
                             Content="CMake"
                             GroupName="GrpFormat"
                             IsChecked="{Binding SelectedFormat, Converter={StaticResource EnumToBoolConverter}, ConverterParameter={x:Static enum:GenerationFormat.CMake}}" />
                <RadioButton Grid.Row="3"
                             Grid.ColumnSpan="2"
                             Margin="0,5"
                             HorizontalAlignment="Center"
                             VerticalContentAlignment="Center"
                             Content="{x:Static s:GuiStrings.VSSolution}"
                             GroupName="GrpFormat"
                             IsChecked="{Binding SelectedFormat, Converter={StaticResource EnumToBoolConverter}, ConverterParameter={x:Static enum:GenerationFormat.Solution}}" />
            </Grid>
        </GroupBox>
        <TextBlock Margin="0,5"
                   DockPanel.Dock="Top"
                   Text="{x:Static s:MsgStrings.ContainsInvalidChars}"
                   TextWrapping="Wrap"
                   Visibility="{Binding TextVisibility}" />
        <UniformGrid Margin="0,5"
                     Columns="2"
                     DockPanel.Dock="Top">
            <Button HorizontalAlignment="Stretch"
                    VerticalContentAlignment="Center"
                    Command="{Binding GenerateCommand}"
                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType={x:Type Window}}}"
                    Content="{x:Static s:GuiStrings.Generate}" />
            <Button HorizontalAlignment="Stretch"
                    VerticalContentAlignment="Center"
                    Command="{Binding CloseCommand}"
                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType={x:Type Window}}}"
                    Content="{x:Static s:GuiStrings.Cancel}" />
        </UniformGrid>
    </DockPanel>
</Window>
